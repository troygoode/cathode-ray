.__scanlines__ {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  pointer-events: none;
}

:root {
  /* REGULAR SCANLINES SETTINGS */

  /* width of 1 scanline (min.: 1px) */
  --scan-width: 1px;

  /* emulates a damage-your-eyes bad pre-2000 CRT screen â™¥ (true, false) */
  --scan-crt: false;

  /* frames-per-second (should be > 1), only applies if $scan-crt: true; */
  --scan-fps: 60;

  /* scanline-color (rgba) */
  --scan-color: $scanlines-foreground;
  --scan-background: $scanlines-background;

  /* set z-index on 2147483648 or more to enable scanlines on Chrome fullscreen (doesn't work in Firefox or IE); */
  --scan-z-index: 2147483648;

  /* MOVING SCANLINE SETTINGS */

  /* moving scanline (true, false) */
  --scan-moving-line: true;

  /* opacity of the moving scanline */
  --scan-opacity: 1;
}

/* MIXINS */

/* apply CRT animation: @include scan-crt($scan-crt); */
@mixin scan-crt($scan-crt) {
  @if var(--scan-crt == true) {
    animation: scanlines 1s steps($scan-fps) infinite;
  } @else {
    animation: none;
  }
}

/* apply CRT animation: @include scan-crt($scan-crt); */
@mixin scan-moving($scan-moving-line) {
  @if var(--scan-moving-line == true) {
    animation: scanline 6s linear infinite;
  } @else {
    animation: none;
  }
}

/* CSS .scanlines CLASS */

.__scanlines__ {
  overflow: hidden; /* only to animate the unique scanline */

  &:before,
  &:after {
    display: block;
    pointer-events: none;
    content: "";
    position: absolute;
  }

  /* unique scanline travelling on the screen */
  &:before {
    /* position: absolute; */
    /* bottom: 100%; */
    width: 100%;
    height: var(--scan-width) * 1;
    z-index: var(--scan-z-index) + 1;
    background: var(--foreground);
    opacity: 0.2;
    /* animation: scanline 6s linear infinite; */
    /* @include scan-moving($scan-moving-line); */
  }

  /* the scanlines, so! */
  &:after {
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--scan-z-index);
    background: linear-gradient(
      to bottom,
      var(--scan-background) 50%,
      var(--scan-color) 51%
    );
    background-size: 100% var(--scan-width) * 2;
    /* @include scan-crt($scan-crt); */
  }
}

/* ANIMATE UNIQUE SCANLINE */
@keyframes scanline {
  0% {
    transform: translate3d(0, 200000%, 0);
    /* bottom: 0%; // to have a continuous scanline move, use this line (here in 0% step) instead of transform and write, in &:before, { position: absolute; bottom: 100%; } */
  }
}

@keyframes scanlines {
  0% {
    background-position: 0 50%;
    /* bottom: 0%; // to have a continuous scanline move, use this line (here in 0% step) instead of transform and write, in &:before, { position: absolute; bottom: 100%; } */
  }
}
